<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="ko"><generator uri="https://jekyllrb.com/" version="3.9.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" hreflang="ko" /><updated>2022-10-11T02:49:21+09:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">vigil2</title><subtitle>Dev Log</subtitle><author><name>vigil2</name><email>l2nak87@gmail.com</email></author><entry><title type="html">toc test</title><link href="http://localhost:4000/python/2022/10/11/python/" rel="alternate" type="text/html" title="toc test" /><published>2022-10-11T00:00:00+09:00</published><updated>2022-10-11T00:00:00+09:00</updated><id>http://localhost:4000/python/2022/10/11/python</id><content type="html" xml:base="http://localhost:4000/python/2022/10/11/python/"><![CDATA[<hr />

<p>구글링과 복사붙여넣기로 만든 나의 허접하지만 힘겹게 내딛은 첫발</p>

<p>매매 알고리즘은 나만 알고싶어 생략을 하였다.</p>

<hr />

<h1 id="목차는-어떻게">목차는 어떻게</h1>
<h2 id="제목2">제목2</h2>
<h3 id="제목3">제목3</h3>
<h4 id="제목4">제목4</h4>
<h5 id="제목5">제목5</h5>
<h2 id="제목6">제목6</h2>
<h2 id="제목7">제목7</h2>
<h2 id="제목8">제목8</h2>
<h3 id="제목9">제목9</h3>

<ol>
  <li>목차</li>
  <li>목차좀</li>
  <li>##</li>
</ol>

<blockquote>
  <p>하하</p>
  <blockquote>
    <p>하하</p>
    <blockquote>
      <p>하하하</p>
    </blockquote>
  </blockquote>
</blockquote>

<ul>
  <li>1</li>
  <li>햣</li>
  <li>ㅎ</li>
  <li>22</li>
</ul>

<h2 id="업비트-자동매매-파이썬-코드">업비트 자동매매 파이썬 코드</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span>
<span class="kn">import</span> <span class="nn">pyupbit</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">my_key</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">line_alert</span>

<span class="c1"># 내 키 가져오기
</span><span class="n">upbit</span> <span class="o">=</span> <span class="n">pyupbit</span><span class="p">.</span><span class="n">Upbit</span><span class="p">(</span><span class="n">my_key</span><span class="p">.</span><span class="n">upbit_access</span><span class="p">,</span> <span class="n">my_key</span><span class="p">.</span><span class="n">upbit_secret</span><span class="p">)</span>

<span class="c1"># RSI 함수
</span><span class="k">def</span> <span class="nf">rsi</span><span class="p">(</span><span class="n">ohlc</span><span class="p">:</span> <span class="n">pandas</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">period</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">14</span><span class="p">):</span>
    <span class="n">delta</span> <span class="o">=</span> <span class="n">ohlc</span><span class="p">[</span><span class="s">"close"</span><span class="p">].</span><span class="n">diff</span><span class="p">()</span>
    <span class="n">ups</span><span class="p">,</span> <span class="n">downs</span> <span class="o">=</span> <span class="n">delta</span><span class="p">.</span><span class="n">copy</span><span class="p">(),</span> <span class="n">delta</span><span class="p">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">ups</span><span class="p">[</span><span class="n">ups</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">downs</span><span class="p">[</span><span class="n">downs</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">AU</span> <span class="o">=</span> <span class="n">ups</span><span class="p">.</span><span class="n">ewm</span><span class="p">(</span><span class="n">com</span> <span class="o">=</span> <span class="n">period</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_periods</span> <span class="o">=</span> <span class="n">period</span><span class="p">).</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">AD</span> <span class="o">=</span> <span class="n">downs</span><span class="p">.</span><span class="nb">abs</span><span class="p">().</span><span class="n">ewm</span><span class="p">(</span><span class="n">com</span> <span class="o">=</span> <span class="n">period</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_periods</span> <span class="o">=</span> <span class="n">period</span><span class="p">).</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">RS</span> <span class="o">=</span> <span class="n">AU</span><span class="o">/</span><span class="n">AD</span>

    <span class="k">return</span> <span class="n">pandas</span><span class="p">.</span><span class="n">Series</span><span class="p">(</span><span class="mi">100</span> <span class="o">-</span> <span class="p">(</span><span class="mi">100</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">RS</span><span class="p">)),</span> <span class="n">name</span> <span class="o">=</span> <span class="s">"RSI"</span><span class="p">)</span>
<span class="c1"># KRW 시장 티커 (1일봉, 10분봉) # 한바퀴 도는데 약 1분 걸림
</span><span class="n">coinlist</span> <span class="o">=</span> <span class="n">pyupbit</span><span class="p">.</span><span class="n">get_tickers</span><span class="p">(</span><span class="n">fiat</span><span class="o">=</span><span class="s">"KRW"</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="k">while</span><span class="p">(</span><span class="bp">True</span><span class="p">):</span> 
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">coinlist</span><span class="p">)):</span>
            <span class="n">data_1week</span> <span class="o">=</span> <span class="n">pyupbit</span><span class="p">.</span><span class="n">get_ohlcv</span><span class="p">(</span><span class="n">ticker</span><span class="o">=</span><span class="n">coinlist</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">interval</span><span class="o">=</span><span class="s">"week1"</span><span class="p">)</span>
            <span class="n">now_rsi_1week</span> <span class="o">=</span> <span class="n">rsi</span><span class="p">(</span><span class="n">data_1week</span><span class="p">,</span> <span class="mi">14</span><span class="p">).</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">money</span> <span class="o">=</span> <span class="n">upbit</span><span class="p">.</span><span class="n">get_balance</span><span class="p">(</span><span class="s">"KRW"</span><span class="p">)</span> <span class="c1"># 총 잔액
</span>            <span class="n">amount</span> <span class="o">=</span> <span class="n">upbit</span><span class="p">.</span><span class="n">get_balance</span><span class="p">(</span><span class="n">coinlist</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="c1"># 코인의 보유 갯수
</span>            <span class="n">cur_price</span> <span class="o">=</span> <span class="n">pyupbit</span><span class="p">.</span><span class="n">get_current_price</span><span class="p">(</span><span class="n">coinlist</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="c1"># 보유 코인의 현재 가치
</span>            <span class="n">total</span> <span class="o">=</span> <span class="n">amount</span> <span class="o">*</span> <span class="n">cur_price</span> <span class="c1"># 보유코인의 현재 가치
</span>            <span class="k">print</span><span class="p">(</span><span class="s">"코인명: "</span><span class="p">,</span> <span class="n">coinlist</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">print</span><span class="p">(</span><span class="s">"현재시간 : "</span><span class="p">,</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">())</span>
            <span class="k">print</span><span class="p">(</span><span class="s">"RSI 1day : "</span><span class="p">,</span> <span class="n">now_rsi_1week</span><span class="p">)</span>
            <span class="k">print</span><span class="p">()</span>
 <span class="c1"># 이하의 코드는 삭제했습니다. 나만의 공식. 궁금하신분은 메일 주세요.
</span>            <span class="k">if</span>  <span class="p">:</span> 
                <span class="n">upbit</span><span class="p">.</span><span class="n">buy_market_order</span><span class="p">(</span><span class="n">coinlist</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">money</span> <span class="o">*</span> <span class="mf">1.0</span><span class="p">)</span>
                
            <span class="k">elif</span> 
                <span class="n">upbit</span><span class="p">.</span><span class="n">buy_market_order</span><span class="p">(</span><span class="n">coinlist</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">money</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span>
                <span class="n">line_alert</span><span class="p">.</span><span class="n">SendMessage</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">{0} 최저점 매수</span><span class="se">\n</span><span class="s"> ..이하</span><span class="se">\n</span><span class="s">"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">coinlist</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
                
            <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="k">print</span><span class="p">()</span>
    <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
</code></pre></div></div>]]></content><author><name>vigil2</name><email>l2nak87@gmail.com</email></author><category term="python" /><category term="python" /><category term="autobot" /><category term="upbit" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">업비트 오토봇 완성</title><link href="http://localhost:4000/python/2022/10/10/python/" rel="alternate" type="text/html" title="업비트 오토봇 완성" /><published>2022-10-10T00:00:00+09:00</published><updated>2022-10-10T00:00:00+09:00</updated><id>http://localhost:4000/python/2022/10/10/python</id><content type="html" xml:base="http://localhost:4000/python/2022/10/10/python/"><![CDATA[<hr />

<p>구글링과 복사붙여넣기로 만든 나의 허접하지만 힘겹게 내딛은 첫발</p>

<p>매매 알고리즘은 나만 알고싶어 생략을 하였다.</p>

<hr />

<h1 id="목차는-어떻게">목차는 어떻게</h1>
<h2 id="목차-좀">목차 좀</h2>
<h3 id="목차">목차</h3>
<ol>
  <li>목차</li>
  <li>목차좀</li>
</ol>

<h1 id="업비트-자동매매-파이썬-코드">업비트 자동매매 파이썬 코드</h1>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span>
<span class="kn">import</span> <span class="nn">pyupbit</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">my_key</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">line_alert</span>

<span class="c1"># 내 키 가져오기
</span><span class="n">upbit</span> <span class="o">=</span> <span class="n">pyupbit</span><span class="p">.</span><span class="n">Upbit</span><span class="p">(</span><span class="n">my_key</span><span class="p">.</span><span class="n">upbit_access</span><span class="p">,</span> <span class="n">my_key</span><span class="p">.</span><span class="n">upbit_secret</span><span class="p">)</span>

<span class="c1"># RSI 함수
</span><span class="k">def</span> <span class="nf">rsi</span><span class="p">(</span><span class="n">ohlc</span><span class="p">:</span> <span class="n">pandas</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">period</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">14</span><span class="p">):</span>
    <span class="n">delta</span> <span class="o">=</span> <span class="n">ohlc</span><span class="p">[</span><span class="s">"close"</span><span class="p">].</span><span class="n">diff</span><span class="p">()</span>
    <span class="n">ups</span><span class="p">,</span> <span class="n">downs</span> <span class="o">=</span> <span class="n">delta</span><span class="p">.</span><span class="n">copy</span><span class="p">(),</span> <span class="n">delta</span><span class="p">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">ups</span><span class="p">[</span><span class="n">ups</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">downs</span><span class="p">[</span><span class="n">downs</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">AU</span> <span class="o">=</span> <span class="n">ups</span><span class="p">.</span><span class="n">ewm</span><span class="p">(</span><span class="n">com</span> <span class="o">=</span> <span class="n">period</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_periods</span> <span class="o">=</span> <span class="n">period</span><span class="p">).</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">AD</span> <span class="o">=</span> <span class="n">downs</span><span class="p">.</span><span class="nb">abs</span><span class="p">().</span><span class="n">ewm</span><span class="p">(</span><span class="n">com</span> <span class="o">=</span> <span class="n">period</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_periods</span> <span class="o">=</span> <span class="n">period</span><span class="p">).</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">RS</span> <span class="o">=</span> <span class="n">AU</span><span class="o">/</span><span class="n">AD</span>

    <span class="k">return</span> <span class="n">pandas</span><span class="p">.</span><span class="n">Series</span><span class="p">(</span><span class="mi">100</span> <span class="o">-</span> <span class="p">(</span><span class="mi">100</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">RS</span><span class="p">)),</span> <span class="n">name</span> <span class="o">=</span> <span class="s">"RSI"</span><span class="p">)</span>
<span class="c1"># KRW 시장 티커 (1일봉, 10분봉) # 한바퀴 도는데 약 1분 걸림
</span><span class="n">coinlist</span> <span class="o">=</span> <span class="n">pyupbit</span><span class="p">.</span><span class="n">get_tickers</span><span class="p">(</span><span class="n">fiat</span><span class="o">=</span><span class="s">"KRW"</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="k">while</span><span class="p">(</span><span class="bp">True</span><span class="p">):</span> 
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">coinlist</span><span class="p">)):</span>
            <span class="n">data_1week</span> <span class="o">=</span> <span class="n">pyupbit</span><span class="p">.</span><span class="n">get_ohlcv</span><span class="p">(</span><span class="n">ticker</span><span class="o">=</span><span class="n">coinlist</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">interval</span><span class="o">=</span><span class="s">"week1"</span><span class="p">)</span>
            <span class="n">now_rsi_1week</span> <span class="o">=</span> <span class="n">rsi</span><span class="p">(</span><span class="n">data_1week</span><span class="p">,</span> <span class="mi">14</span><span class="p">).</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">money</span> <span class="o">=</span> <span class="n">upbit</span><span class="p">.</span><span class="n">get_balance</span><span class="p">(</span><span class="s">"KRW"</span><span class="p">)</span> <span class="c1"># 총 잔액
</span>            <span class="n">amount</span> <span class="o">=</span> <span class="n">upbit</span><span class="p">.</span><span class="n">get_balance</span><span class="p">(</span><span class="n">coinlist</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="c1"># 코인의 보유 갯수
</span>            <span class="n">cur_price</span> <span class="o">=</span> <span class="n">pyupbit</span><span class="p">.</span><span class="n">get_current_price</span><span class="p">(</span><span class="n">coinlist</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="c1"># 보유 코인의 현재 가치
</span>            <span class="n">total</span> <span class="o">=</span> <span class="n">amount</span> <span class="o">*</span> <span class="n">cur_price</span> <span class="c1"># 보유코인의 현재 가치
</span>            <span class="k">print</span><span class="p">(</span><span class="s">"코인명: "</span><span class="p">,</span> <span class="n">coinlist</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">print</span><span class="p">(</span><span class="s">"현재시간 : "</span><span class="p">,</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">())</span>
            <span class="k">print</span><span class="p">(</span><span class="s">"RSI 1day : "</span><span class="p">,</span> <span class="n">now_rsi_1week</span><span class="p">)</span>
            <span class="k">print</span><span class="p">()</span>
 <span class="c1"># 이하의 코드는 삭제했습니다. 나만의 공식. 궁금하신분은 메일 주세요.
</span>            <span class="k">if</span>  <span class="p">:</span> 
                <span class="n">upbit</span><span class="p">.</span><span class="n">buy_market_order</span><span class="p">(</span><span class="n">coinlist</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">money</span> <span class="o">*</span> <span class="mf">1.0</span><span class="p">)</span>
                
            <span class="k">elif</span> 
                <span class="n">upbit</span><span class="p">.</span><span class="n">buy_market_order</span><span class="p">(</span><span class="n">coinlist</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">money</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span>
                <span class="n">line_alert</span><span class="p">.</span><span class="n">SendMessage</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">{0} 최저점 매수</span><span class="se">\n</span><span class="s"> ..이하</span><span class="se">\n</span><span class="s">"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">coinlist</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
                
            <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="k">print</span><span class="p">()</span>
    <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
</code></pre></div></div>]]></content><author><name>vigil2</name><email>l2nak87@gmail.com</email></author><category term="python" /><category term="python" /><category term="autobot" /><category term="upbit" /><summary type="html"><![CDATA[]]></summary></entry></feed>